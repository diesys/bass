function playTrack(e){document.querySelectorAll(".track").forEach(e=>{e.classList.remove("active")}),e.classList.add("active");var t=document.querySelector("#player>audio"),r=document.querySelector("#player>#now_playing");t.setAttribute("src",e.getAttribute("data-audiosrc")),t.play(),r.innerHTML=e.innerHTML}function toggleTheme(e="none"){"none"!==e?(document.querySelector("body").classList.remove("dark"),document.querySelector("body").classList.remove("light"),document.querySelector("body").classList.add(e)):(document.querySelector("body").classList.toggle("dark"),document.querySelector("body").classList.toggle("light"),e=document.querySelector("body").classList.contains("dark")?"dark":"light"),updateThemeHrefs(e)}function updateTheme(){""!=window.location.search?(args={},query=window.location.search.split("?")[1].split("&"),query.forEach(e=>{args[e.split("=")[0]]=e.split("=")[1]}),theme="dark"==args.t?"dark":"light",toggleTheme(theme)):theme="dark",updateThemeHrefs(theme)}function updateThemeHrefs(e="dark"){"dark"==e|"light"==e&&(document.querySelectorAll("a.internal").forEach(t=>{t.href=t.href.split("?")[0]+"?t="+e}),document.querySelectorAll("form.internal").forEach(t=>{t.setAttribute("action",t.getAttribute("action").split("?")[0]+"?t="+e)}),document.querySelectorAll("form .internal").forEach(t=>{t.setAttribute("value",e)}))}let tracklist=document.querySelector("#tracklist");"undefined"!=typeof theme&&toggleTheme(theme),"undefined"!=typeof first_track&&tracklist.setAttribute("start",first_track),document.querySelectorAll(".track").forEach(e=>{e.addEventListener("click",function(){playTrack(e)})});