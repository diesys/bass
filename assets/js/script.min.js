function playTrack(e){document.querySelectorAll(".track").forEach(e=>{e.classList.remove("active")}),e.classList.add("active");var t=document.querySelector("#player>audio"),r=document.querySelector("#player>#now_playing");t.setAttribute("src",e.getAttribute("data-audiosrc")),t.play(),r.innerHTML=e.innerHTML}function toggleTheme(e="none"){"none"!==e?(document.querySelector("body").classList.remove("dark"),document.querySelector("body").classList.remove("light"),document.querySelector("body").classList.add(e)):(document.querySelector("body").classList.toggle("dark"),document.querySelector("body").classList.toggle("light"),e=document.querySelector("body").classList.contains("dark")?"dark":"light"),updateThemeHrefs(e)}function updateTheme(){""!=window.location.search?(theme=window.location.search.split("?")[1].trim(),toggleTheme(theme)):theme="dark",updateThemeHrefs(theme)}function updateThemeHrefs(e="dark"){"dark"==e|"light"==e&&document.querySelectorAll("a.internal").forEach(t=>{t.href=t.href.split("?")[0]+"?"+e})}let tracklist=document.querySelector("#tracklist");"undefined"!=typeof theme&&toggleTheme(theme),"undefined"!=typeof first_track&&tracklist.setAttribute("start",first_track),document.querySelectorAll(".track").forEach(e=>{e.addEventListener("click",function(){playTrack(e)})});